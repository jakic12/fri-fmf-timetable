{"version":3,"sources":["util/exportToIcs.js","util/tableDataUtil.js","util/colorSchemes.js","components/LoadingScreen.jsx","components/FullscreenError.jsx","components/CustomTimetable.jsx","components/Dropdown.jsx","components/ColorSchemeHandler.jsx","components/TopExpandableBar.jsx","App.js","util/api.js","serviceWorker.js","index.js"],"names":["padTo2","num","slice","getTimeRange","apiDataTable","smallestRange","range","Math","min","ura","max","trajanje","forEach","el","colors","default","topBar","sideBar","backgroundColor","backgroundAccentColor","tableTextColor","cardTextColor","cardColors","cardBackground","horror","monokaiPro","cardBorder","cardBorderRadius","cardTypeTextColor","monokaiProWithColorText","importStyle","darkerMode","cardTypeBackground","Object","assign","JSON","parse","localStorage","getItem","ColorContext","React","createContext","LoadingDiv","styled","div","props","loaded","SideLoading","TopLoading","rowHeight","error","useContext","ErrorWrapper","ErrorCard","background","useColorProp","string","color","replace","StyledLecture","lectureId","StyledLectureBody","StyledLectureType","out","LightenDarkenColor","e","StyledLectureWrapper","SmallField","TimetableStyle","createGlobalStyle","timeInterval","tableData","hoursInterval","renderEvent","d","s","event","defaultAttributes","styles","className","title","name","key","id","type","style","fontWeight","professor","class","startTime","format","endTime","events","MainButtonWrapper","MainInnerButtonWrapper","ShadowWrapper","open","css","DropdownBody","height","DropdownInnerList","childOf","c","p","parentNode","ButtonElement","ListElement","onSelect","values","dropDownInnerListStyle","onOpen","useState","setOpen","dropDownBodyRef","useRef","mainButtonWrapperRef","dropdownInnerListRef","closeDropdown","target","current","document","removeEventListener","onClick","addEventListener","console","log","ref","marginTop","offsetHeight","map","handleImports","scheme","import1","colorSchemes","Error","ColorSchemeChangerContext","allNames","colorSchemeName","setColorScheme","setColorSchemePreview","resetColorSchemePreview","Component","setColorSchemeName","tempSchemeName","setTempSchemeName","Provider","value","keys","save","setItem","TopMenuBar","expanded","TopMenuBarContent","ExpandButton","DropdownButton","DropDownElement","setExpanded","colorSchemeChanger","topMenuColor","buttons","Dropdown","marginLeft","n","onMouseEnter","onMouseLeave","f","topButtons","icon","HiDownload","Wrapper","getRowHeight","numberOfRows","round","App","tableDataAndInterval","setTableDataAndInterval","setError","timetableData","setTimetableData","useEffect","fetchPromise","fetch","window","location","href","indexOf","split","method","mode","credentials","headers","referrerPolicy","then","response","ok","json","data","countByVajeLecture","element","tip","toUpperCase","predmet","abbr","duplicateLectures","filter","findDuplicateLectures","status","statusText","catch","toString","newData","apiData","compact","tableDataConverted","monday","tuesday","wednesday","thursday","friday","DAYS","elementCount","lectures","push","dan","profesor","ucilnica","moment","apiToTimetableData","LoadingScreen","FullscreenError","CustomTimetable","TopExpandableBar","Boolean","hostname","match","ReactDOM","render","StrictMode","ColorSchemeHandler","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.ecd57ca3.chunk.js","sourcesContent":["import ical from \"ical-generator\";\n\nexport default (data) => {\n  const cal = ical({ domain: \"github.com\", name: \"ISRM urnik\" });\n  return addEvents(cal, data).toString();\n};\n\nfunction getMonday(d) {\n  d = new Date(d);\n  var day = d.getDay(),\n    diff = d.getDate() - day + (day == 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(d.setDate(diff)).setHours(0, 0, 0, 0);\n}\n\nfunction addDays(date1, days) {\n  var date = new Date(date1);\n  date.setDate(date.getDate() + days);\n  return date;\n}\n\nfunction addHours(date, h) {\n  const date1 = new Date(date);\n  date1.setTime(date1.getTime() + h * 60 * 60 * 1000);\n  return date1;\n}\n\nconst relativeTime = (date, dan, ura) => addHours(addDays(date, dan), ura);\n\nconst addEvents = (cal, data) => {\n  const startDate = getMonday(new Date());\n\n  data.forEach((element) => {\n    const event = cal.createEvent(\n      Object.assign(\n        {\n          start: relativeTime(startDate, element.dan, element.ura),\n          end: relativeTime(\n            startDate,\n            element.dan,\n            element.ura + element.trajanje\n          ),\n          summary: `${element.predmet.abbr} - ${element.tip}`,\n          description: `${element.predmet.name} @ ${element.ucilnica}\\\\n${element.profesor}`,\n          location: element.ucilnica,\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n        },\n        element.profesor\n          ? {\n              organizer: {\n                name: element.profesor + \"\",\n                email: `${(element.profesor + \"\").split(\" \")[0]}.${\n                  (element.profesor + \"\").split(\" \")[1]\n                }@fmf.uni-lj.si`,\n              },\n            }\n          : null\n      )\n    );\n\n    event.repeating({\n      freq: \"WEEKLY\",\n      until: addDays(relativeTime(startDate, element.dan, element.ura), 365),\n    });\n  });\n\n  return cal;\n};\n","import moment from \"moment\";\nimport exportToIcs from \"./exportToIcs\";\n\nconst padTo2 = (num) => (\"00\" + num).slice(-2);\n\n/**\n * convert api data to a format that the Timetable component can understand\n * @param {Object} apiData object of data, that was fetched from the api\n */\nexport const apiToTimetableData = (apiData, compact) => {\n  const tableDataConverted = {\n    monday: [],\n    tuesday: [],\n    wednesday: [],\n    thursday: [],\n    friday: [],\n  };\n\n  const DAYS = [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"];\n\n  const elementCount = {};\n  DAYS.forEach((d) => (elementCount[d] = 1));\n\n  const lectures = [];\n  apiData.forEach((el) => {\n    if (lectures.indexOf(el.predmet.abbr) == -1) lectures.push(el.predmet.abbr);\n\n    tableDataConverted[DAYS[el.dan]].push({\n      id: elementCount[DAYS[el.dan]]++,\n      name: compact ? el.predmet.abbr : el.predmet.name,\n      professor: el.profesor,\n      class: el.ucilnica,\n      type: el.tip,\n      lectureId: lectures.indexOf(el.predmet.abbr),\n      startTime: moment(\"2019-02-23T\" + padTo2(el.ura) + \":00:00\"),\n      endTime: moment(\n        \"2019-02-23T\" +\n          (\"00\" + padTo2(el.ura + el.trajanje)).slice(-2) +\n          \":00:00\"\n      ),\n    });\n  });\n\n  return tableDataConverted;\n};\n\nexport const getTimeRange = (apiDataTable, smallestRange = [8, 20]) => {\n  const range = [\n    Math.min(smallestRange[0], apiDataTable[0].ura),\n    Math.max(smallestRange[1], apiDataTable[0].ura + apiDataTable[0].trajanje),\n  ];\n\n  apiDataTable.forEach((el) => {\n    if (el.ura < range[0]) {\n      range[0] = el.ura;\n    }\n\n    if (el.ura + el.trajanje > range[1]) {\n      range[1] = el.ura + el.trajanje;\n    }\n  });\n\n  return range;\n};\n\nexport const downloadIcs = (apiDataTable) => {\n  const element = document.createElement(\"a\");\n  const file = new Blob([exportToIcs(apiDataTable)], {\n    type: \"text/plain;charset=utf-8\",\n  });\n  element.href = URL.createObjectURL(file);\n  element.download = \"calendar.ics\";\n  document.body.appendChild(element);\n  element.click();\n};\n\n//Should have used: https://www.youtube.com/watch?v=pKO9UjSeLew\nexport const findDuplicateLectures = (apiDataTable) => {\n  const countByVajeLecture = {};\n  apiDataTable.forEach((element) => {\n    if (element.tip.toUpperCase().indexOf(\"V\") != -1) {\n      if (element.predmet.abbr in countByVajeLecture) {\n        countByVajeLecture[element.predmet.abbr] += 1;\n      } else {\n        countByVajeLecture[element.predmet.abbr] = 1;\n      }\n    }\n  });\n\n  const duplicateLectures = Object.keys(countByVajeLecture)\n    .map((key) => {\n      if (countByVajeLecture[key] > 1) {\n        return key;\n      } else {\n        return 0;\n      }\n    })\n    .filter((e) => e != 0);\n\n  console.log(duplicateLectures);\n};\n","import React from \"react\";\n\nconst colors = {\n  default: {\n    topBar: `#34495e`,\n    sideBar: `#46596b`,\n    backgroundColor: `white`,\n    backgroundAccentColor: `rgba(0,0,0,.08)`,\n    tableTextColor: `white`,\n    cardTextColor: `white`,\n    cardColors: [\n      \"#e74c3c\",\n      \"#3498db\",\n      \"#2ecc71\",\n      \"#f1c40f\",\n      \"#9b59b6\",\n      \"#1abc9c\",\n      \"#e67e22\",\n      \"#34495e\",\n    ],\n    cardBackground: \"%COLOR%\",\n  },\n  horror: {\n    topBar: `red`,\n    sideBar: `green`,\n    backgroundColor: `yellow`,\n    backgroundAccentColor: `gray`,\n    tableTextColor: `black`,\n    cardTextColor: `black`,\n    cardColors: [\n      \"#fff\",\n      \"#701\",\n      \"#ab2\",\n      \"#aaa\",\n      \"#faf\",\n      \"#222\",\n      \"#deadbe\",\n      \"#dadada\",\n    ],\n    cardBackground: \"%COLOR%\",\n  },\n  monokaiPro: {\n    topBar: `#131313`,\n    sideBar: `#191919`,\n    backgroundColor: `#222222`,\n    backgroundAccentColor: `#2c2c2d`,\n    tableTextColor: `white`,\n    cardTextColor: `white`,\n    cardColors: [\n      \"#ff6188\",\n      \"#fc9868\",\n      \"#ffd866\",\n      \"#a9de77\",\n      \"#78dce8\",\n      \"#ab9df2\",\n      \"#ad5ca3\",\n      \"#34495e\",\n    ],\n    cardBorder: \"2px solid %COLOR%\", //optional,  all color card props, support %COLOR% except cardColors\n    cardBorderRadius: `3px`, // optional\n    cardBackground: \"#191919\",\n    cardTypeTextColor: `#222222`, // optional\n  },\n  monokaiProWithColorText: {\n    importStyle: `monokaiPro`,\n    cardTextColor: `%COLOR%`,\n  },\n  darkerMode: {\n    topBar: `black`,\n    sideBar: `black`,\n    backgroundColor: `black`,\n    backgroundAccentColor: `black`,\n    tableTextColor: `#aaaaaa`,\n    cardTextColor: `#aaaaaa`,\n    cardColors: [],\n    cardBackground: \"black\",\n    cardTypeTextColor: `#aaaaaa`,\n    cardTypeBackground: `black`,\n  },\n};\n\nexport default Object.assign(\n  colors,\n  JSON.parse(localStorage.getItem(\"customColorSchemes\") || \"{}\")\n);\nexport const ColorContext = React.createContext(colors.default);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { PuffLoader } from \"react-spinners\";\nimport { ColorContext } from \"../util/colorSchemes\";\n\nconst LoadingDiv = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  position: absolute;\n  align-items: center;\n  justify-content: center;\n  background: ${(props) => props.colors.backgroundColor};\n\n  opacity: ${(props) => (props.loaded ? 0 : 1)};\n  transition: all 0.6s;\n  transition-delay: 0.8s;\n\n  z-index: 1000;\n\n  pointer-events: none;\n`;\n\nconst SideLoading = styled.div`\n  background: ${(props) => props.backgroundColor};\n  width: ${(props) => (props.loaded ? \"5rem\" : \"100vw\")};\n  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition-delay: 0.4s;\n\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100vh;\n`;\n\nconst TopLoading = styled.div`\n  background: ${(props) => props.backgroundColor};\n  width: 100vw;\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  height: ${(props) => (props.loaded ? `${props.rowHeight}vh` : \"100vh\")};\n  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n`;\n\nexport default ({ loaded, error, rowHeight }) => {\n  const colors = React.useContext(ColorContext);\n  return (\n    <LoadingDiv loaded={loaded || !!error} colors={colors}>\n      <SideLoading\n        loaded={loaded}\n        backgroundColor={colors.sideBar}\n      ></SideLoading>\n      <TopLoading\n        loaded={loaded}\n        rowHeight={rowHeight}\n        backgroundColor={colors.topBar}\n      ></TopLoading>\n      <PuffLoader />\n    </LoadingDiv>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ColorContext } from \"../util/colorSchemes\";\n\nconst ErrorWrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ErrorCard = styled.div`\n  background: #e74c3c;\n  border-radius: 2px;\n  padding: 10px;\n`;\n\nexport default ({ error }) => {\n  const colors = React.useContext(ColorContext);\n  return (\n    <ErrorWrapper background={colors.topBar}>\n      <ErrorCard>{error}</ErrorCard>\n    </ErrorWrapper>\n  );\n};\n","import React from \"react\";\nimport Timetable from \"react-timetable-events\";\nimport { LightenDarkenColor } from \"lighten-darken-color\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport { ColorContext } from \"../util/colorSchemes\";\nimport \"../App.css\";\n\nconst useColorProp = (string, color) => string.replace(\"%COLOR%\", color);\n\nconst StyledLecture = styled.div`\n  width: 100%;\n  background: ${(props) =>\n    useColorProp(\n      props.colors.cardBackground,\n      props.colors.cardColors[props.lectureId]\n    )};\n  color: black;\n  display: flex;\n  flex-direction: row;\n  border-radius: ${(props) => props.colors.cardBorderRadius || `2px`};\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  text-shadow: -1px 1px 3px rgba(0, 0, 0, 0.3);\n  color: ${(props) =>\n    useColorProp(\n      props.colors.cardTextColor,\n      props.colors.cardColors[props.lectureId]\n    )};\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n  overflow: hidden;\n\n  border: ${(props) =>\n    props.colors.cardBorder &&\n    useColorProp(\n      props.colors.cardBorder,\n      props.colors.cardColors[props.lectureId]\n    )};\n\n  margin: 5px;\n\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25), 0 6px 6px rgba(0, 0, 0, 0.22);\n    margin: 3px;\n  }\n`;\n\nconst StyledLectureBody = styled.div`\n  height: 100%;\n  width: 80%;\n  padding: 10px;\n`;\n\nconst StyledLectureType = styled.div`\n  height: 100%;\n  width: 20%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: ${(props) => {\n    const background = props.colors.cardTypeBackground\n      ? useColorProp(\n          props.colors.cardTypeBackground,\n          props.colors.cardColors[props.lectureId]\n        )\n      : props.colors.cardColors[props.lectureId];\n    let out = \"\";\n    if (props.colors.cardTypeBackground) {\n      out = background;\n    } else {\n      try {\n        out = LightenDarkenColor(background, -10);\n      } catch (e) {\n        out = background;\n      }\n    }\n    return out;\n  }};\n  position: relative;\n  ${(props) =>\n    props.colors.cardTypeTextColor\n      ? `color:${props.colors.cardTypeTextColor};`\n      : ``}\n`;\n\nconst StyledLectureWrapper = styled.div`\n  //padding:5px;\n  display: flex;\n  position: absolute;\n  box-sizing: border-box;\n  width: 100%;\n`;\n\nconst SmallField = styled.div`\n  font-size: 0.6em;\n`;\n\nconst TimetableStyle = createGlobalStyle`\n  .styles_day_title__1y-BE {\n    background: ${(props) => props.topBar};\n  }\n\n  .styles_hour__EXCif {\n    background:${(props) => props.sideBar};\n  }\n\n  .styles_day__1cspH {\n    background-color: ${(props) => props.backgroundColor};\n    background-image: linear-gradient(${(props) =>\n      props.backgroundAccentColor} 50%, transparent 50%);\n  }\n\n  .styles_time_table_wrapper__1-rtp{\n    color:${(props) => props.tableTextColor}\n  }\n`;\n\nconst renderEvent = (event, defaultAttributes, styles, colors) => {\n  defaultAttributes.className = \"\";\n  return (\n    <StyledLectureWrapper\n      {...defaultAttributes}\n      title={event.name}\n      key={event.id}\n    >\n      <StyledLecture\n        lectureId={event.lectureId}\n        type={event.type}\n        colors={colors}\n      >\n        <StyledLectureBody>\n          <div style={{ fontWeight: `bold` }}>{event.name}</div>\n          <SmallField>{event.professor}</SmallField>\n          <SmallField>{event.class}</SmallField>\n          <SmallField>\n            {event.startTime.format(\"HH:mm\")} - {event.endTime.format(\"HH:mm\")}\n          </SmallField>\n        </StyledLectureBody>\n        <StyledLectureType\n          type={event.type}\n          lectureId={event.lectureId}\n          colors={colors}\n        >\n          {event.type}\n        </StyledLectureType>\n      </StyledLecture>\n    </StyledLectureWrapper>\n  );\n};\n\nexport default ({ timeInterval, tableData }) => {\n  const colors = React.useContext(ColorContext);\n  return (\n    <>\n      <TimetableStyle {...colors} />\n      <Timetable\n        hoursInterval={timeInterval}\n        renderEvent={(e, d, s) => renderEvent(e, d, s, colors)}\n        events={tableData}\n      />\n    </>\n  );\n};\n","import React, { useRef, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nconst MainButtonWrapper = styled.div`\n  position: relative;\n  transition: box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n`;\n\nconst MainInnerButtonWrapper = styled.div`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst ShadowWrapper = styled.div`\n  position: relative;\n  z-index: 150;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: -1;\n    border-radius: 3px;\n    ${(props) =>\n      props.open &&\n      css`\n        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25),\n          0 6px 6px rgba(0, 0, 0, 0.22);\n      `}\n  }\n`;\n\nconst DropdownBody = styled.div`\n  position: relative;\n  width: 100%;\n  height: ${(props) => props.height};\n\n  z-index: 150;\n  overflow: hidden;\n\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n`;\n\nconst DropdownInnerList = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  border-radius: 0 0 3px 3px;\n`;\n\nfunction childOf(c, p) {\n  while ((c = c.parentNode) && c !== p);\n  return !!c;\n}\n\n/**\n * @typedef {object} Props\n * @prop {object} ButtonElement optional\n * @prop {object} ListElement optional\n * @prop {function} onSelect\n * @prop {Array<object>} values\n */\nexport default ({\n  ButtonElement,\n  ListElement,\n  onSelect,\n  values,\n  dropDownInnerListStyle,\n  onOpen,\n  style,\n}) => {\n  const [open, setOpen] = useState();\n  const dropDownBodyRef = useRef();\n  const mainButtonWrapperRef = useRef();\n  const dropdownInnerListRef = useRef();\n\n  const closeDropdown = (event) => {\n    if (\n      !(\n        childOf(event.target, dropDownBodyRef.current) ||\n        childOf(event.target, mainButtonWrapperRef.current)\n      )\n    ) {\n      setOpen(false);\n      document.removeEventListener(\"click\", closeDropdown);\n    }\n  };\n\n  const toggle = (event) => {\n    if (!childOf(event.target, dropDownBodyRef.current)) {\n      if (!open) {\n        if (onOpen) onOpen();\n        document.addEventListener(\"click\", closeDropdown);\n      } else {\n        document.removeEventListener(\"click\", closeDropdown);\n      }\n      console.log(\"new state:\", !open);\n      setOpen(!open);\n    }\n  };\n\n  return (\n    <MainButtonWrapper\n      open={open}\n      onClick={toggle}\n      ref={mainButtonWrapperRef}\n      style={style}\n    >\n      <ShadowWrapper open={open}>\n        <MainInnerButtonWrapper open={open}>\n          <ButtonElement />\n        </MainInnerButtonWrapper>\n        <DropdownBody\n          open={open}\n          marginTop={\n            mainButtonWrapperRef.current &&\n            mainButtonWrapperRef.current.offsetHeight + \"px\"\n          }\n          ref={dropDownBodyRef}\n          height={\n            !open\n              ? 0\n              : dropdownInnerListRef.current &&\n                dropdownInnerListRef.current.offsetHeight + \"px\"\n          }\n        >\n          <DropdownInnerList\n            ref={dropdownInnerListRef}\n            style={dropDownInnerListStyle}\n          >\n            {values &&\n              values.map((props, key) => (\n                <ListElement\n                  key={key}\n                  {...props}\n                  open={open}\n                  onClick={(event) => onSelect(props, event)}\n                />\n              ))}\n          </DropdownInnerList>\n        </DropdownBody>\n      </ShadowWrapper>\n    </MainButtonWrapper>\n  );\n};\n","import React, { useState } from \"react\";\nimport colorSchemes, { ColorContext } from \"../util/colorSchemes\";\n\nconst getColorScheme = (name) => handleImports(name, colorSchemes[name]);\n\nconst handleImports = (name, scheme) => {\n  let out = Object.assign({}, scheme);\n  if (out.importStyle) {\n    const import1 = out.importStyle;\n    delete out[\"importStyle\"];\n    if (import1 in colorSchemes)\n      out = Object.assign({}, colorSchemes[import1], out);\n    else throw new Error(`Error at import, ${name} tried to import ${import1}`);\n\n    return handleImports(import1, out);\n  } else {\n    return out;\n  }\n};\n\nexport const ColorSchemeChangerContext = React.createContext({\n  allNames: [],\n  colorSchemeName: `context not loaded`,\n  setColorScheme: () => console.log(`context not loaded`),\n  setColorSchemePreview: () => console.log(`context not loaded`),\n  resetColorSchemePreview: () => console.log(`context not loaded`),\n});\n\nexport default ({ Component }) => {\n  const [colorSchemeName, setColorSchemeName] = useState(\n    localStorage.getItem(\"colorScheme\") || `default`\n  );\n\n  const [tempSchemeName, setTempSchemeName] = useState();\n\n  const setColorSchemePreview = (name) => {\n    setTempSchemeName(name);\n  };\n\n  const resetColorSchemePreview = () => {\n    setTempSchemeName(null);\n  };\n\n  const setColorScheme = (name, save) => {\n    if (save) {\n      localStorage.setItem(\"colorScheme\", name);\n    }\n    setColorSchemeName(name);\n    resetColorSchemePreview();\n  };\n\n  return (\n    <ColorContext.Provider\n      value={getColorScheme(tempSchemeName || colorSchemeName)}\n    >\n      <ColorSchemeChangerContext.Provider\n        value={{\n          allNames: Object.keys(colorSchemes),\n          colorSchemeName,\n          setColorScheme,\n          setColorSchemePreview,\n          resetColorSchemePreview,\n        }}\n      >\n        <Component setColorSchemeName={(name) => setColorSchemeName(name)} />\n      </ColorSchemeChangerContext.Provider>\n    </ColorContext.Provider>\n  );\n};\n","import React, { useState } from \"react\";\nimport { HiDotsVertical } from \"react-icons/hi\";\nimport styled, { css } from \"styled-components\";\nimport Dropdown from \"./Dropdown\";\nimport { ColorContext } from \"../util/colorSchemes\";\nimport { ColorSchemeChangerContext } from \"./ColorSchemeHandler\";\n\nconst TopMenuBar = styled.div`\n  position: absolute;\n  right: 0;\n  top: 0;\n\n  height: ${(props) => props.rowHeight}vh;\n  width: ${(props) => (props.expanded ? `100vw` : `1.5em`)};\n\n  background: ${(props) => props.background};\n\n  transition: 1s cubic-bezier(0.25, 0.8, 0.25, 1);\n  display: flex;\n  align-items: flex-start;\n  flex-direction: row;\n`;\n\nconst TopMenuBarContent = styled.div`\n  flex-grow: 1;\n  flex-shrink: 1;\n  display: flex;\n  flex-direction: row;\n  overflow-x: hidden;\n`;\n\nconst ExpandButton = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: ${(props) => props.rowHeight}vh;\n  width: 1.5em;\n  z-index: 900;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\n// BUTTONS styles\nconst DropdownButton = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 1s;\n\n  height: ${(props) => props.rowHeight}vh;\n  width: 300px;\n  background: ${(props) => props.background};\n`;\n\nconst DropDownElement = styled.div`\n  padding: 1em;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n    cursor: pointer;\n  }\n`;\n// BUTTONS styles\n\nexport default ({ rowHeight }) => {\n  const [expanded, setExpanded] = useState();\n  const colors = React.useContext(ColorContext);\n  const colorSchemeChanger = React.useContext(ColorSchemeChangerContext);\n\n  const backgroundColor = colors.topMenuColor\n    ? colors.topMenuColor\n    : colors.topBar;\n\n  const buttons = [\n    () => {\n      return (\n        <Dropdown\n          style={{ marginLeft: `1em` }}\n          ButtonElement={() => (\n            <DropdownButton\n              background={backgroundColor}\n              colors={colors}\n              rowHeight={rowHeight}\n            >\n              Theme: {colorSchemeChanger.colorSchemeName || `undefined`}\n            </DropdownButton>\n          )}\n          values={colorSchemeChanger.allNames.map((n) => ({ name: n }))}\n          ListElement={({ name, onClick, open }) => (\n            <DropDownElement\n              onClick={onClick}\n              onMouseEnter={() => {\n                if (open) colorSchemeChanger.setColorSchemePreview(name);\n              }}\n              onMouseLeave={() => {\n                if (open) colorSchemeChanger.resetColorSchemePreview();\n              }}\n            >\n              {name}\n            </DropDownElement>\n          )}\n          onSelect={({ name }) => {\n            colorSchemeChanger.setColorScheme(name, true);\n          }}\n          dropDownInnerListStyle={{\n            background: backgroundColor,\n          }}\n        />\n      );\n    },\n  ].map((f) => f());\n\n  return (\n    <TopMenuBar\n      expanded={expanded}\n      colors={colors}\n      rowHeight={rowHeight}\n      background={backgroundColor}\n    >\n      <ExpandButton\n        onClick={() => {\n          setExpanded(!expanded);\n          //setColorSchemeName(`monokaiProWithColorText`);\n        }}\n        rowHeight={rowHeight}\n      >\n        <HiDotsVertical />\n      </ExpandButton>\n      <TopMenuBarContent>{buttons}</TopMenuBarContent>\n    </TopMenuBar>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport round from \"lodash/round\";\n\nimport { fetchTableData } from \"./util/api.js\";\nimport {\n  apiToTimetableData,\n  downloadIcs,\n  getTimeRange,\n  findDuplicateLectures,\n} from \"./util/tableDataUtil.js\";\n\n// components\nimport LoadingScreen from \"./components/LoadingScreen.jsx\";\nimport FullscreenError from \"./components/FullscreenError.jsx\";\nimport CustomTimetable from \"./components/CustomTimetable.jsx\";\nimport TopExpandableBar from \"./components/TopExpandableBar.jsx\";\n\nimport { ColorContext } from \"./util/colorSchemes\";\n\n// resources\nimport { HiDownload } from \"react-icons/hi\";\n\n//TOP BAR\nconst topButtons = [\n  {\n    name: \"Download\",\n    icon: HiDownload,\n    onClick: () => {\n      //if (tableData) downloadIcs(tableData);\n    },\n  },\n];\n//TOP BAR\n\nconst Wrapper = styled.div`\n  background: ${(props) => props.colors.backgroundColor};\n  color: white;\n`;\n\nconst getRowHeight = (timeInterval = [8, 20]) => {\n  let numberOfRows = timeInterval[1] - timeInterval[0] + 1;\n  return round(100 / numberOfRows, 5);\n};\n\nconst App = () => {\n  const [tableDataAndInterval, setTableDataAndInterval] = useState();\n  const [error, setError] = useState();\n  const [timetableData, setTimetableData] = useState();\n  const colors = React.useContext(ColorContext);\n\n  // fetch the data\n  useEffect(() => {\n    const fetchPromise = fetchTableData();\n\n    fetchPromise.then((response) => {\n      if (response.ok) {\n        response.json().then((data) => {\n          findDuplicateLectures(data);\n          setTableDataAndInterval({\n            tableData: data,\n            timeInterval: getTimeRange(data),\n          });\n        });\n      } else {\n        console.error(response);\n        setError(response.status + \": \" + response.statusText);\n      }\n    });\n\n    fetchPromise.catch((e) => {\n      setError(e.toString());\n    });\n  }, []);\n\n  const loaded = !!timetableData;\n\n  // convert data to a format that Timetable can understand\n  if (tableDataAndInterval && !error && !timetableData) {\n    const newData = apiToTimetableData(tableDataAndInterval.tableData);\n    if (newData) setTimetableData(newData);\n    else setError(\"data calculation error\");\n  }\n\n  return (\n    <Wrapper colors={colors}>\n      <LoadingScreen\n        error={error}\n        loaded={loaded}\n        rowHeight={getRowHeight(\n          tableDataAndInterval ? tableDataAndInterval.timeInterval : [8, 20]\n        )}\n      />\n      {error && <FullscreenError error={error} />}\n      {tableDataAndInterval && (\n        <>\n          <CustomTimetable\n            timeInterval={tableDataAndInterval.timeInterval}\n            tableData={timetableData}\n          />\n          <TopExpandableBar\n            rowHeight={getRowHeight(tableDataAndInterval.timeInterval)}\n            buttons={topButtons}\n          />\n        </>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default App;\n","export const fetchTableData = () =>\n  fetch(\n    window.location.href.indexOf(\"?url=\") == -1\n      ? \"https://fmf-fri-timetable-scraper.herokuapp.com/getUrnik\"\n      : window.location.href.split(\"?url=\")[1].split(\"&\")[0],\n    {\n      method: \"GET\",\n      mode: \"cors\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        // 'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      referrerPolicy: \"no-referrer\",\n    }\n  );\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport ColorSchemeHandler from \"./components/ColorSchemeHandler\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ColorSchemeHandler Component={App} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}