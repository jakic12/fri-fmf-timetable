(this["webpackJsonpfri-fmf-timetable"]=this["webpackJsonpfri-fmf-timetable"]||[]).push([[0],{33:function(n,e,t){n.exports=t(90)},38:function(n,e,t){},72:function(n,e,t){},90:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(24),i=t.n(o),c=(t(38),t(16)),u=t(3),l=t(25),d=t(27),s=t.n(d);function f(n,e){var t=new Date(n);return t.setDate(t.getDate()+e),t}var p=function(n,e,t){return function(n,e){var t=new Date(n);return t.setTime(t.getTime()+60*e*60*1e3),t}(f(n,e),t)},m=function(n,e){var t=function(n){var e=(n=new Date(n)).getDay(),t=n.getDate()-e+(0==e?-6:1);return new Date(n.setDate(t)).setHours(0,0,0,0)}(new Date);return e.forEach((function(e){n.createEvent(Object.assign({start:p(t,e.dan,e.ura),end:p(t,e.dan,e.ura+e.trajanje),summary:"".concat(e.predmet.abbr," - ").concat(e.tip),description:"".concat(e.predmet.name," @ ").concat(e.ucilnica,"\\n").concat(e.profesor),location:e.ucilnica,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},e.profesor?{organizer:{name:e.profesor+"",email:"".concat((e.profesor+"").split(" ")[0],".").concat((e.profesor+"").split(" ")[1],"@fmf.uni-lj.si")}}:null)).repeating({freq:"WEEKLY",until:f(p(t,e.dan,e.ura),365)})})),n},h=t(4),b=t(7),v=t.n(b),g=(t(72),t(31)),w=t(28),y=t(29),x=t.n(y),j=t(32);function E(){var n=Object(u.a)(["\n  position:absolute;\n  right:0;\n  top:0;\n\n  height:","vh;\n  width:","vh;\n  z-index:900;\n  display:flex;\n  align-items:center;\n  justify-content:center;\n\n  &:hover{\n    cursor:pointer;\n  }\n"]);return E=function(){return n},n}function O(){var n=Object(u.a)(["\n  background:#e74c3c;\n  border-radius:2px;\n  padding:10px;\n"]);return O=function(){return n},n}function k(){var n=Object(u.a)(["\n  width:100vw;\n  height:100vh;\n\n  display:flex;\n  justify-content:center;\n  align-items:center;\n"]);return k=function(){return n},n}function T(){var n=Object(u.a)(["\n  font-size:.6em;\n"]);return T=function(){return n},n}function D(){var n=Object(u.a)(["\n  //padding:5px;\n  display:flex;\n  position:absolute;\n  box-sizing:border-box;\n  width:100%;\n"]);return D=function(){return n},n}function I(){var n=Object(u.a)(["\n  height:100%;\n  width:20%;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n  background: ",";\n  position:relative;\n"]);return I=function(){return n},n}function z(){var n=Object(u.a)(["\n  height:100%;\n  width:80%;\n  padding:10px;\n"]);return z=function(){return n},n}function H(){var n=Object(u.a)(["\n  width:100%;\n  background:",";\n  color:black;\n  display:flex;\n  flex-direction:row;\n  border-radius:2px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  text-shadow: -1px 1px 3px rgba(0, 0, 0, .3);\n  color: white;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n  overflow:hidden;\n\n  margin:5px;\n\n  &:hover{\n    box-shadow: 0 10px 20px rgba(0,0,0,0.25), 0 6px 6px rgba(0,0,0,0.22);\n    margin:3px;\n  }\n"]);return H=function(){return n},n}function S(){var n=Object(u.a)(["\n  background:#34495d;\n  color:white;\n"]);return S=function(){return n},n}function L(){var n=Object(u.a)(["\n  background:#34495d;\n  width:100vw;\n  position:absolute;\n  left:0;\n  top:0;\n\n  height:",";\n  transition: all .4s cubic-bezier(.25,.8,.25,1);\n"]);return L=function(){return n},n}function W(){var n=Object(u.a)(["\n  background:#46596b;\n  width:",";\n  transition: all .4s cubic-bezier(.25,.8,.25,1);\n  transition-delay: .4s;\n  \n  position:absolute;\n  left:0;\n  top:0;\n  height:100vh;\n  "]);return W=function(){return n},n}function B(){var n=Object(u.a)(["\n  width:100vw;\n  height:100vh;\n  display:flex;\n  position:absolute;\n  align-items:center;\n  justify-content:center;\n  background:white;\n\n  opacity:",";\n  transition: all .6s ;\n  transition-delay: .8s;\n\n  z-index:1000;\n\n  pointer-events:none;\n"]);return B=function(){return n},n}var C=h.a.div(B(),(function(n){return n.loaded?0:1})),R=h.a.div(W(),(function(n){return n.loaded?"5rem":"100vw"})),U=h.a.div(L(),(function(n){return n.loaded?"".concat(V(),"vh"):"100vh"})),J=h.a.div(S()),M=["#e74c3c","#3498db","#2ecc71","#f1c40f","#9b59b6","#1abc9c","#e67e22","#34495e"],P=h.a.div(H(),(function(n){return M[n.lectureId]})),q=h.a.div(z()),F=h.a.div(I(),(function(n){return Object(j.a)(M[n.lectureId],-10)})),G=h.a.div(D()),K=h.a.div(T()),N=h.a.div(k()),Y=h.a.div(O()),Z=function(n){return("00"+n).slice(-2)},$=h.a.div(E(),(function(n){return V()}),(function(n){return V()})),A=function(n,e,t){return e.className="",a.a.createElement(G,Object.assign({},e,{title:n.name,key:n.id}),a.a.createElement(P,{lectureId:n.lectureId,type:n.type},a.a.createElement(q,null,a.a.createElement("div",{style:{fontWeight:"bold"}},n.name),a.a.createElement(K,null,n.professor),a.a.createElement(K,null,n.class),a.a.createElement(K,null,n.startTime.format("HH:mm")," - ",n.endTime.format("HH:mm"))),a.a.createElement(F,{type:n.type,lectureId:n.lectureId},n.type)))};var Q=[8,20],V=function(){var n=Q[1]-Q[0]+1;return x()(100/n,5)},X=function(){var n=Object(r.useState)(!1),e=Object(c.a)(n,2),t=e[0],o=e[1],i=Object(r.useState)(!1),u=Object(c.a)(i,2),d=u[0],f=u[1],p=-1==window.location.href.indexOf("?url=")?"https://fmf-fri-timetable-scraper.herokuapp.com/getUrnik":window.location.href.split("?url=")[1];Object(r.useEffect)((function(){var n=fetch("https://cors-anywhere.herokuapp.com/"+p,{method:"GET",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer"});n.then((function(n){n.ok?(console.log("ok"),n.json().then((function(n){o(n)}))):(console.log("not ok",n),f(n.status+": "+n.statusText))})),n.catch((function(n){f(n)}))}),[]);var h=!!t,b={monday:[],tuesday:[],wednesday:[],thursday:[],friday:[]},y=["monday","tuesday","wednesday","thursday","friday"],x={};y.forEach((function(n){return x[n]=1}));var j=[];return h&&!d&&t.forEach((function(n){-1==j.indexOf(n.predmet.abbr)&&j.push(n.predmet.abbr),b[y[n.dan]].push({id:x[y[n.dan]]++,name:n.predmet.name,professor:n.profesor,class:n.ucilnica,type:n.tip,lectureId:j.indexOf(n.predmet.abbr),startTime:v()("2019-02-23T"+Z(n.ura)+":00:00"),endTime:v()("2019-02-23T"+("00"+Z(n.ura+n.trajanje)).slice(-2)+":00:00")})})),console.log(d),a.a.createElement(J,null,a.a.createElement($,{onClick:function(){t&&function(n){var e=document.createElement("a"),t=new Blob([n],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(t),e.download="calendar.ics",document.body.appendChild(e),e.click()}(function(n){var e=s()({domain:"github.com",name:"ISRM urnik"});return m(e,n).toString()}(t))}},a.a.createElement(g.a,null)),a.a.createElement(C,{loaded:h||!!d},a.a.createElement(R,{loaded:h}),a.a.createElement(U,{loaded:h}),a.a.createElement(l.PuffLoader,null)),d&&a.a.createElement(N,null,a.a.createElement(Y,null,d)),h&&a.a.createElement(w.a,{hoursInterval:Q,renderEvent:A,events:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.23b8f4cd.chunk.js.map