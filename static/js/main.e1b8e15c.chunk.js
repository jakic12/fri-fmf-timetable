(this["webpackJsonpfri-fmf-timetable"]=this["webpackJsonpfri-fmf-timetable"]||[]).push([[0],{29:function(n,e,t){n.exports=t(79)},34:function(n,e,t){},61:function(n,e,t){},79:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(21),c=t.n(o),i=(t(34),t(14)),u=t(3),l=t(22),d=function(n){return"BEGIN:VCALENDAR\nVERSION:1.0\nPRODID:-//Homemade Urnik ISRM\n".concat(n,"\nEND:VCALENDAR")};function s(n){var e=n.getUTCFullYear(),t=f(n.getUTCMonth()+1),r=f(n.getUTCDate()),a=f(n.getUTCHours()),o=f(n.getUTCMinutes()),c=f(n.getUTCSeconds());return"".concat(e).concat(t).concat(r,"T").concat(a).concat(o).concat(c,"Z")}function f(n){return n<10?"0".concat(n):"".concat(n)}var m=function(n,e,t){return s(function(n,e){var t=new Date(n);return t.setTime(t.getTime()+60*e*60*1e3),t}(function(n,e){var t=new Date(n);return t.setDate(t.getDate()+e),t}(n,e),t))},p=function(n){var e="",t=function(n){var e=(n=new Date(n)).getDay(),t=n.getDate()-e+(0==e?-6:1);return new Date(n.setDate(t))}(new Date);return n.forEach((function(n){e+="BEGIN:VEVENT\nSUMMARY:".concat(n.predmet.abbr," - ").concat(n.tip,"\nDTSTART;TZID=").concat(Intl.DateTimeFormat().resolvedOptions().timeZone,";VALUE=DATE-TIME:").concat(m(t,n.dan,n.ura),"\nDTEND;TZID=").concat(Intl.DateTimeFormat().resolvedOptions().timeZone,";VALUE=DATE-TIME:").concat(m(t,n.dan,n.ura+n.trajanje),"\nDTSTAMP;VALUE=DATE-TIME:").concat(s(new Date),"\nUID:homemade_urnik_fri_fmf\nRRULE:FREQ=WEEKLY;UNTIL=20211013T000000;WKST=MO\nDESCRIPTION:").concat(n.predmet.name," @ ").concat(n.ucilnica,"\\n").concat(n.profesor,"\nLOCATION:").concat(n.ucilnica,"\nEND:VEVENT\n")})),e},h=t(4),b=t(11),v=t.n(b),E=(t(61),t(27)),g=t(24),w=t(25),T=t.n(w),x=t(28);function y(){var n=Object(u.a)(["\n  position:absolute;\n  right:0;\n  top:0;\n\n  height:","vh;\n  width:","vh;\n  z-index:900;\n  display:flex;\n  align-items:center;\n  justify-content:center;\n\n  &:hover{\n    cursor:pointer;\n  }\n"]);return y=function(){return n},n}function D(){var n=Object(u.a)(["\n  background:#e74c3c;\n  border-radius:2px;\n  padding:10px;\n"]);return D=function(){return n},n}function O(){var n=Object(u.a)(["\n  width:100vw;\n  height:100vh;\n\n  display:flex;\n  justify-content:center;\n  align-items:center;\n"]);return O=function(){return n},n}function j(){var n=Object(u.a)(["\n  font-size:.6em;\n"]);return j=function(){return n},n}function I(){var n=Object(u.a)(["\n  //padding:5px;\n  display:flex;\n  position:absolute;\n  box-sizing:border-box;\n  width:100%;\n"]);return I=function(){return n},n}function k(){var n=Object(u.a)(["\n  height:100%;\n  width:20%;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n  background: ",";\n  position:relative;\n"]);return k=function(){return n},n}function U(){var n=Object(u.a)(["\n  height:100%;\n  width:80%;\n  padding:10px;\n"]);return U=function(){return n},n}function A(){var n=Object(u.a)(["\n  width:100%;\n  background:",";\n  color:black;\n  display:flex;\n  flex-direction:row;\n  border-radius:2px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  text-shadow: -1px 1px 3px rgba(0, 0, 0, .3);\n  color: white;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n  overflow:hidden;\n\n  margin:5px;\n\n  &:hover{\n    box-shadow: 0 10px 20px rgba(0,0,0,0.25), 0 6px 6px rgba(0,0,0,0.22);\n    margin:3px;\n  }\n"]);return A=function(){return n},n}function N(){var n=Object(u.a)(["\n  background:#34495d;\n  color:white;\n"]);return N=function(){return n},n}function C(){var n=Object(u.a)(["\n  background:#34495d;\n  width:100vw;\n  position:absolute;\n  left:0;\n  top:0;\n\n  height:",";\n  transition: all .4s cubic-bezier(.25,.8,.25,1);\n"]);return C=function(){return n},n}function R(){var n=Object(u.a)(["\n  background:#46596b;\n  width:",";\n  transition: all .4s cubic-bezier(.25,.8,.25,1);\n  transition-delay: .4s;\n  \n  position:absolute;\n  left:0;\n  top:0;\n  height:100vh;\n  "]);return R=function(){return n},n}function L(){var n=Object(u.a)(["\n  width:100vw;\n  height:100vh;\n  display:flex;\n  position:absolute;\n  align-items:center;\n  justify-content:center;\n  background:white;\n\n  opacity:",";\n  transition: all .6s ;\n  transition-delay: .8s;\n\n  z-index:1000;\n\n  pointer-events:none;\n"]);return L=function(){return n},n}var M=h.a.div(L(),(function(n){return n.loaded?0:1})),S=h.a.div(R(),(function(n){return n.loaded?"5rem":"100vw"})),V=h.a.div(C(),(function(n){return n.loaded?"".concat($(),"vh"):"100vh"})),z=h.a.div(N()),H=["#e74c3c","#3498db","#2ecc71","#f1c40f","#9b59b6","#1abc9c","#e67e22","#34495e"],B=h.a.div(A(),(function(n){return H[n.lectureId]})),P=h.a.div(U()),W=h.a.div(k(),(function(n){return Object(x.a)(H[n.lectureId],-10)})),Z=h.a.div(I()),F=h.a.div(j()),G=h.a.div(O()),Y=h.a.div(D()),_=function(n){return("00"+n).slice(-2)},J=h.a.div(y(),(function(n){return $()}),(function(n){return $()})),K=function(n,e,t){return e.className="",a.a.createElement(Z,Object.assign({},e,{title:n.name,key:n.id}),a.a.createElement(B,{lectureId:n.lectureId,type:n.type},a.a.createElement(P,null,a.a.createElement("div",{style:{fontWeight:"bold"}},n.name),a.a.createElement(F,null,n.professor),a.a.createElement(F,null,n.class),a.a.createElement(F,null,n.startTime.format("HH:mm")," - ",n.endTime.format("HH:mm"))),a.a.createElement(W,{type:n.type,lectureId:n.lectureId},n.type)))};var Q=[8,20],$=function(){var n=Q[1]-Q[0]+1;return T()(100/n,5)},q=function(){var n=Object(r.useState)(!1),e=Object(i.a)(n,2),t=e[0],o=e[1],c=Object(r.useState)(!1),u=Object(i.a)(c,2),s=u[0],f=u[1],m=-1==window.location.href.indexOf("?url=")?"https://fmf-fri-timetable-scraper.herokuapp.com/getUrnik":window.location.href.split("?url=")[1];Object(r.useEffect)((function(){var n=fetch("https://cors-anywhere.herokuapp.com/"+m,{method:"GET",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer"});n.then((function(n){n.ok?(console.log("ok"),n.json().then((function(n){o(n)}))):(console.log("not ok",n),f(n.status+": "+n.statusText))})),n.catch((function(n){f(n)}))}),[]);var h=!!t,b={monday:[],tuesday:[],wednesday:[],thursday:[],friday:[]},w=["monday","tuesday","wednesday","thursday","friday"],T={};w.forEach((function(n){return T[n]=1}));var x=[];return h&&!s&&t.forEach((function(n){-1==x.indexOf(n.predmet.abbr)&&x.push(n.predmet.abbr),b[w[n.dan]].push({id:T[w[n.dan]]++,name:n.predmet.name,professor:n.profesor,class:n.ucilnica,type:n.tip,lectureId:x.indexOf(n.predmet.abbr),startTime:v()("2019-02-23T"+_(n.ura)+":00:00"),endTime:v()("2019-02-23T"+("00"+_(n.ura+n.trajanje)).slice(-2)+":00:00")})})),console.log(s),a.a.createElement(z,null,a.a.createElement(J,{onClick:function(){t&&function(n){var e=document.createElement("a"),t=new Blob([n],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(t),e.download="calendar.ics",document.body.appendChild(e),e.click()}(d(p(t)))}},a.a.createElement(E.a,null)),a.a.createElement(M,{loaded:h||!!s},a.a.createElement(S,{loaded:h}),a.a.createElement(V,{loaded:h}),a.a.createElement(l.PuffLoader,null)),s&&a.a.createElement(G,null,a.a.createElement(Y,null,s)),h&&a.a.createElement(g.a,{hoursInterval:Q,renderEvent:K,events:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.e1b8e15c.chunk.js.map